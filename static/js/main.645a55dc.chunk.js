(this.webpackJsonpcrubtable=this.webpackJsonpcrubtable||[]).push([[0],{134:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n(1),o=n.n(a),s=n(13),c=n.n(s),i=(n(83),n(84),n(85),n(70)),d=n(71),l=n(6),u=n(77),h=n(76),j=n(14),b="https://crudtable.herokuapp.com/",p=function(){return function(e){return e(m(!0)),fetch(b+"rows").then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw new Error(e.message)})).then((function(e){return e.json()})).then((function(t){return e(f(t))})).catch((function(t){return e(O(t.message))}))}},m=function(){return{type:"ROWS_LOADING"}},O=function(e){return{type:"ROWS_FAILED",payload:e}},f=function(e){return{type:"ADD_ROWS",payload:e}},g=n(136),x=n(137),w=n(138),v=n(139),y=n(146),M=n(140),S=n(141),D=n(142),N=n(143),C=n(144),k=n(145),E=n(39),R=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state={nameInput:"",descInput:"",currRow:{},currName:"",currDesc:"",isModalOpen:!1},r.toggleModal=r.toggleModal.bind(Object(l.a)(r)),r.handleModal=r.handleModal.bind(Object(l.a)(r)),r.handleUpdateSubmit=r.handleUpdateSubmit.bind(Object(l.a)(r)),r.handleNameChange=r.handleNameChange.bind(Object(l.a)(r)),r.handleDescChange=r.handleDescChange.bind(Object(l.a)(r)),r.handleModalName=r.handleModalName.bind(Object(l.a)(r)),r.handleModalDesc=r.handleModalDesc.bind(Object(l.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(l.a)(r)),r.handleDelete=r.handleDelete.bind(Object(l.a)(r)),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchRows()}},{key:"handleModal",value:function(e){this.setState({currRow:e.target.id,currName:e.target.name,currDesc:e.target.title,isModalOpen:!this.state.isModalOpen})}},{key:"toggleModal",value:function(e){this.setState({isModalOpen:!this.state.isModalOpen})}},{key:"handleUpdateSubmit",value:function(e){this.toggleModal(),this.props.putRow(this.state.currRow,e.name,e.description)}},{key:"handleNameChange",value:function(e){this.setState({nameInput:e.target.value})}},{key:"handleDescChange",value:function(e){this.setState({descInput:e.target.value})}},{key:"handleModalName",value:function(e){this.setState({currName:e.target.value})}},{key:"handleModalDesc",value:function(e){this.setState({currDesc:e.target.value})}},{key:"handleSubmit",value:function(e){this.props.postRow(this.state.nameInput,this.state.descInput)}},{key:"handleDelete",value:function(e){this.props.deleteRow(e)}},{key:"render",value:function(){var e=this,t=Array.from(this.props.rows).map((function(t,n){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t.name}),Object(r.jsx)("td",{children:t.description}),Object(r.jsx)("td",{children:Object(r.jsxs)(g.a,{children:[Object(r.jsx)(x.a,{name:"delete",color:"danger",onClick:function(){e.handleDelete(t._id)},children:"Delete"}),Object(r.jsx)(x.a,{id:t._id,name:t.name,title:t.description,onClick:e.handleModal,children:"Update Row"})]})})]},t._id)}));return Object(r.jsx)("div",{className:"container",children:Object(r.jsx)("div",{children:Object(r.jsx)(w.a,{onSubmit:function(t){return e.props.handleSubmit(t)},children:Object(r.jsxs)(v.a,{dark:!0,hover:!0,responsive:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Description"}),Object(r.jsx)("th",{})]})}),Object(r.jsxs)("tbody",{children:[Object(r.jsxs)(y.a,{isOpen:this.state.isModalOpen,toggle:this.toggleModal,children:[Object(r.jsx)(M.a,{toggle:this.toggleModal,children:"Update Row"}),Object(r.jsx)(S.a,{children:Object(r.jsxs)(E.LocalForm,{onSubmit:function(t){return e.handleUpdateSubmit(t)},children:[Object(r.jsx)(D.a,{htmlFor:"name",children:"Name"}),Object(r.jsx)(N.a,{className:"form-group",children:Object(r.jsx)(C.a,{md:12,children:Object(r.jsx)(E.Control.text,{onChange:this.handleModalName,model:".name",id:"name",name:"name",value:this.state.currName,className:"form-control"})})}),Object(r.jsx)(D.a,{htmlFor:"description",children:"description"}),Object(r.jsx)(N.a,{className:"form-group",children:Object(r.jsx)(C.a,{children:Object(r.jsx)(E.Control.textarea,{onChange:this.handleModalDesc,model:".description",id:"description",name:"description",rows:"6",value:this.state.currDesc,className:"form-control"})})}),Object(r.jsx)(N.a,{className:"form-group",children:Object(r.jsx)(C.a,{children:Object(r.jsx)(x.a,{type:"submit",color:"primary",children:"Submit"})})})]})})]}),t,Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsx)(k.a,{id:"name",placeholder:"Enter Name",value:this.state.nameInput,onChange:this.handleNameChange})}),Object(r.jsx)("td",{children:Object(r.jsx)(k.a,{id:"desc",placeholder:"Enter Description",value:this.state.descInput,onChange:this.handleDescChange})}),Object(r.jsx)("td",{children:Object(r.jsx)(x.a,{type:"submit",onClick:this.handleSubmit,children:"Add"})})]})]})]})})})})}}]),n}(a.Component),I=Object(j.connect)((function(e){return{rows:e.rows}}),(function(e){return{fetchRows:function(){e(p())},postRow:function(t,n){return e(function(e,t){return function(n){var r={name:e,description:t};return fetch(b+"rows",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){return n(f(e))})).catch((function(e){console.log("post rows",e.message),alert("Your row could not be posted\nError: "+e.message)}))}}(t,n))},deleteRow:function(t){return e(function(e){return function(t){return fetch(b+"rows/"+e,{method:"DELETE",body:JSON.stringify(),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){return t(p())})).catch((function(e){console.log("post rows",e.message),alert("Your row could not be deleted\nError: "+e.message)}))}}(t))},putRow:function(t,n,r){return e(function(e,t,n){return function(r){var a={name:t,description:n};return fetch(b+"rows/"+e,{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;var t=new Error("Error "+e.status+": "+e.statusText);throw t.response=e,t}),(function(e){throw e})).then((function(e){return e.json()})).then((function(e){return r(p())})).catch((function(e){console.log("put rows",e.message),alert("Your row could not be updated\nError: "+e.message)}))}}(t,n,r))}}}))(R),L=n(18),T=n(74),A=n(75),F=n.n(A),_=n(19),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMess:null,rows:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ROWS":return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1,errMess:null,rows:t.payload});case"ROWS_LOADING":return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0,errMess:null,rows:[]});case"ROWS_FAILED":return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1,errMess:t.payload});default:return e}},W=Object(L.createStore)(U,Object(L.applyMiddleware)(T.a,F.a));var J=function(){return Object(r.jsx)(j.Provider,{store:W,children:Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(I,{})})})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,147)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),o(e),s(e)}))};c.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(J,{})}),document.getElementById("root")),P()},84:function(e,t,n){},85:function(e,t,n){}},[[134,1,2]]]);
//# sourceMappingURL=main.645a55dc.chunk.js.map